## Project Documentation: Event Management System

This document details the setup, architecture, and usage of a basic event management system backend built with Node.js, Express, and MongoDB.

### Project Overview

This project implements a RESTful API for managing events, users (students, organizers, and faculty), and their interactions. It provides functionalities for creating, retrieving, updating, and deleting events. Users can register for events, and different user roles have varying permissions. Authentication is handled using JWT (JSON Web Tokens).

### Installation/Setup

1. **Clone the repository:**
   ```bash
   git clone <repository_url>
   ```

2. **Navigate to the project directory:**
   ```bash
   cd <project_directory>
   ```

3. **Install dependencies:**
   ```bash
   npm install
   ```

4. **Configure environment variables:**
   - Create a `.env` file in the root directory.
   - Add the following variables, replacing placeholders with your actual values:
     ```
     PORT=5000
     MongoDB=<your_mongodb_connection_string>
     JWT_SECRET=<your_jwt_secret>
     ```

5. **Start the server:**
   ```bash
   npm start
   ```

### Tech Stack

- **Node.js:** JavaScript runtime environment.
- **Express.js:** Web framework for Node.js.
- **MongoDB:** NoSQL document database.
- **Mongoose:** Object Data Modeling (ODM) library for MongoDB and Node.js.
- **Passport.js:** Authentication middleware for Node.js.
- **Passport-JWT:** Passport strategy for authenticating with JWTs.
- **jsonwebtoken:** Library for creating and verifying JSON Web Tokens.

### Feature List

- **User Management:**
    - User registration (student, organizer, faculty).
    - User login with JWT authentication.
    - Role-based access control.
- **Event Management:**
    - Create new events.
    - View event details.
    - Update event information.
    - Delete events.
- **Event Registration:**
    - Students can register for events.
    - Organizers can manage event registrations.


### Code Architecture

- **`config.js`:** Stores environment variables like port number, MongoDB connection string, and JWT secret.
- **`authMiddleware.js`:** Contains middleware functions for JWT authentication and role-based authorization.
- **`events.js`:** Defines the Mongoose schema for events.
- **`User.js`:** Defines the Mongoose schema for users.
- **`GeneratBearerToken.js`:** Contains a function to generate JWTs.
- **(Implied) Server File (e.g., `server.js` or `app.js`):**  This file (not provided) would contain the main application logic, including setting up the Express server, defining routes, and handling requests.

### Usage Examples

**(Assumed routes based on standard RESTful practices.  These routes are NOT explicitly defined in the provided code.)**

- **Create a new event (POST /events):**  The request body should contain event details like `organiserName`, `title`, `description`, `date`, `location`, `facultyName`, and optionally an `image`. Requires organizer authentication.

- **Get all events (GET /events):** Returns a list of all events.

- **Get a specific event (GET /events/:id):** Returns details of the event with the given ID.

- **Register for an event (POST /events/:id/register):**  Requires student authentication.

- **Login (POST /login):**  The request body should contain the user's `email` and `password`.  Returns a JWT on successful authentication.


### APIs or Functions Explained

- **`checkRole(roles)` (authMiddleware.js):** Middleware function to check if the authenticated user has one of the specified roles.  Returns a 403 Forbidden error if the user does not have the required role.


- **`GeneratBearerToken(userpayload)` (GeneratBearerToken.js):** This function generates a JWT with a 1-hour expiry time, given a user payload (typically containing user ID and role).  It prepends "Bearer " to the token, which is the standard format for using JWTs in Authorization headers.



**Missing Information:**

The provided code snippets lack crucial elements for a fully functional application, most notably:

- **Route handlers:** The code doesn't define how API endpoints are handled.  We have schemas and middleware but no actual logic for processing requests.
- **Error handling:**  Robust error handling is missing.
- **Database interaction logic:**  While schemas are defined, the actual code to interact with the database (create, read, update, delete operations) is absent.


This documentation provides a high-level understanding based on the available code.  A more complete and accurate documentation can be generated with the complete project code, especially the main application file (e.g., `server.js` or `app.js`). 
